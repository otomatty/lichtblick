# Stale ワークフロー

## 概要

古いIssueとプルリクエストを自動的に管理するワークフロー。
プロジェクトの健全性を保つため、長期間活動のないアイテムを自動でクローズ。

## トリガー条件

- 毎日午前0時（UTC）に自動実行
- Cronスケジュール: `0 0 * * *`

## 実行内容

### Issue管理

- **Stale判定**: 365日（12ヶ月）間活動なし
- **Stale通知**: 「12ヶ月間活動がないためStaleマークを付与」
- **クローズ**: Staleマーク後30日で自動クローズ
- **ラベル**: `stale` ラベルを自動付与

### プルリクエスト管理

- **Stale判定**: 90日（3ヶ月）間活動なし
- **Stale通知**: 「3ヶ月間活動がないためStaleマークを付与」
- **クローズ**: Staleマーク後30日で自動クローズ
- **ラベル**: `stale` ラベルを自動付与
- **ブランチ削除**: クローズ時にブランチも自動削除

## 必要な権限

- `issues: write`: Issue操作権限
- `pull-requests: write`: プルリクエスト操作権限

## 動作フロー

### Issue処理

1. 365日間コメントや更新がないIssueを特定
2. Staleメッセージとラベルを追加
3. 30日後に自動クローズ
4. コメントがあればStale状態を解除

### プルリクエスト処理

1. 90日間活動がないPRを特定
2. Staleメッセージとラベルを追加
3. 30日後に自動クローズ
4. ブランチを削除
5. コメントがあればStale状態を解除

## Stale解除方法

- 新しいコメントを追加
- Issue/PRの内容を更新
- ラベルを手動で削除

## 注意点

- コメント追加で延命可能
- 重要なIssue/PRは定期的にコメントで活動維持
- Staleマーク後30日の猶予期間あり
- 自動削除されたブランチは復旧困難

## カスタマイズ可能な設定

- Stale判定期間の調整
- クローズまでの猶予期間変更
- メッセージ内容のカスタマイズ
- 対象外ラベルの設定

## プロジェクト管理への効果

- 古いIssueの自動整理
- 開発者のタスク管理負荷軽減
- リポジトリの見通し改善
- 重要な議論の見極め促進
